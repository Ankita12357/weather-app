<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
    <div class="card">
       <div class="serach">
        <input type="text" placeholder="Enter the city" spellcheck="false" class="src"/>
        <button class="btn">-></button>
       </div>
       <div class="error">
        <p>Invalid city name</p>
       </div>
       <div class="body">
        <div class="icon">
            <!-- You can use an actual weather icon here -->
            <img src="clear.png" class="WeatherIcon">
        </div>
        <h2 class="temp">25°C</h2>
        <h2 class="weath">Sunny</h2>
       <div class="location">New York, USA</div>
       <div class="dived">
       <div class="humidity">
            <h3 class="humidity1">60%</h3>
            <h3>Humidity</h3>
           <img src="humidity.png">
       </div>
       
       <div class="wind">
        <h3 class="wind1"> 8km/h</h3>
        <h3> Wind speed:</h3>
        <img src="wind.png"></div>
        
      </div>
        
        
     </div>
    </div>
</div>
<script>
    const apikey="bb5ab38c1e805fd0475e7e662df3bdac";
    const apiurl="https://api.openweathermap.org/data/2.5/weather?units=metric&q=";

    const searchbox=document.querySelector(".serach input");
    const searchbtn=document.querySelector(".serach button");
    const iconimg=document.querySelector(".WeatherIcon");

    async function checkweather(city){
        const response= await fetch(apiurl+city+`&appid=${apikey}`);
        if(response.status == 404){
            document.querySelector(".error").style.display="block";
        }
        else{
        var data= await response.json();

        console.log(data);

        document.querySelector(".location").innerHTML=data.name;
        document.querySelector(".humidity1").innerHTML = data.main.humidity+"%";
        document.querySelector(".temp").innerHTML = data.main.temp+"°C"; 
        document.querySelector(".weath").innerHTML=data.weather[0].main;
        document.querySelector(".wind1").innerHTML=data.wind.speed+"km/h";

        if(data.weather[0].main=="Clouds"){
            iconimg.src="clouds.png";
        }
        else if(data.weather[0].main=="Clear"){
            iconimg.src="clear.png";
        }
        else if(data.weather[0].main=="Rain"){
            iconimg.src="rain.png";
        }
        else if(data.weather[0].main=="Mist"){
            iconimg.src="mist.png";
        }
        else if(data.weather[0].main=="Haze"){
            iconimg.src="drizzle.png";
        }
        document.querySelector(".error").style.display="none";
       }
    }
    searchbtn.addEventListener("click",()=>{
        checkweather(searchbox.value); 
    })
   
</script>

</body>
</html>
